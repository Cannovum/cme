export default async function courseOverview(e){let t=document.createElement("div");return t.update=()=>console.log("Update was called"),e.reduce(((e,t)=>(e[t.chapter]?e[t.chapter].push(t):e[t.chapter]=[t],e)),[]).forEach(((e,r)=>{const n=document.createElement("div");n.classList.add("tab_curr-chapter_wrapper");const o=document.createElement("div");o.classList.add("tab_curr-chapter");const i=document.createElement("div");i.classList.add("tab_cur-chapter_indc","shadow-lv2"),i.innerText="L"+r;const s=document.createElement("div");s.classList.add("tab_cur-content"),n.append(o,s),e.forEach((e=>{const t=document.createElement("a");t.classList.add("tab_cur-li","w-inline-block"),t.setAttribute("data-spa-link",!0);const r=new URL(window.location.href);r.searchParams.set("view","watch"),r.searchParams.set("lesson",e.episode),t.href=r.href;const n=document.createElement("div");n.innerText=e.name;const o=document.createElement("div");o.classList.add("lesson_episode"),o.innerText="Lektion "+e.episode,s.append(t),t.append(n)})),t.append(n)})),t}import LZUTF8 from"./lzutf8.min.js";import Papa from"./papaparse.min.js";import courseOverview from"./courseOverview.js";import videoView from"./videoView.js";const courseWrapper=document.querySelector(".curriulum_c_wrapper"),course=document.querySelector("#course_data").getAttribute("data-course");async function navigateTo(e,t=!1,r=null){history.pushState(null,null,e),router(e)}async function router(e){const t=new URL(e).searchParams,r=[{name:"courses",view:async()=>{const e=await getCoursesData(course);courseWrapper.append(await courseOverview(e))}},{name:"watch",view:async()=>courseWrapper.append(await videoView(course,Number(t.get("lesson"))))},{name:"notFound",view:async()=>{console.log("not found");const e=await getCoursesData(course);courseWrapper.appendChild(await courseOverview(e)).update()}}],n=t.get("view"),o=n?r.find((e=>n===e.name))||r.find((e=>"notFound"===e.name)):r[2];courseWrapper.innerHTML="",o.view()}async function getCoursesData(e,t=null){t=t?t-1:null;const r=localStorage.getItem(e);return r?(n(e,t),null!=t?JSON.parse(r)[t]:JSON.parse(r)):await n(e,t);async function n(e,t){return await fetch("https://mocki.io/v1/3172ef8d-e1b7-4769-b4a0-f22918057fb1",{}).then((e=>e.json())).then((t=>{const r=LZUTF8.decompress(t.data.toString(),{inputEncoding:"StorageBinaryString"}),n=Papa.parse(r,{header:!0,dynamicTyping:!0});return localStorage.setItem(e,JSON.stringify(n.data)),n.data}))}}
/*!
 LZ-UTF8 v0.5.8

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2021-02-24 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/
var IE10SubarrayBugPatcher,LZUTF8;window.addEventListener("popstate",(e=>{router(window.location.href)})),document.addEventListener("DOMContentLoaded",(()=>router(window.location.href))),document.addEventListener("DOMContentLoaded",(()=>{document.body.addEventListener("click",(e=>{e.target.matches("[data-spa-link]")&&(e.preventDefault(),navigateTo(e.target.href))}))})),function(e){e.runningInNodeJS=function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&require.main===module},e.commonJSAvailable=function(){return"object"==typeof module&&"object"==typeof module.exports},e.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&"function"==typeof process.send},e.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&"http:"!==document.location.protocol&&"https:"!==document.location.protocol},e.webWorkersAvailable=function(){return!("function"!=typeof Worker||e.runningInNullOrigin()||e.runningInNodeJS()||navigator&&navigator.userAgent&&0<=navigator.userAgent.indexOf("Android 4.3"))},e.log=function(e,t){void 0===t&&(t=!1),"object"==typeof console&&(console.log(e),t&&"object"==typeof document&&(document.body.innerHTML+=e+"<br/>"))},e.createErrorMessage=function(t,r){if(void 0===r&&(r="Unhandled exception"),null==t)return r;if(r+=": ","object"!=typeof t.content)return"string"==typeof t.content?r+t.content:r+t;if(e.runningInNodeJS())return r+t.content.stack;var n=JSON.stringify(t.content);return"{}"!==n?r+n:r+t.content},e.printExceptionAndStackTraceToConsole=function(t,r){void 0===r&&(r="Unhandled exception"),e.log(e.createErrorMessage(t,r))},e.getGlobalObject=function(){return"object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(module.exports=e)}(LZUTF8=LZUTF8||{}),function(){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){function e(e,t){var r=function(e,t,r){return e<t?t:r<e?r:e};return e|=0,t|=0,arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length),(r=(t=r(t,0,this.length))-e)<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)}var t=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var n=0;n<t.length;n++)r[t[n]]&&(r[t[n]].prototype.subarray=e)}}(IE10SubarrayBugPatcher=IE10SubarrayBugPatcher||{}),function(e){var t=(r.compressAsync=function(t,r,n){var o=new e.Timer,i=new e.Compressor;if(!n)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof t)t=e.encodeUTF8(t);else if(null==t||!(t instanceof Uint8Array))return void n(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var s=e.ArrayTools.splitByteArray(t,r.blockSize),a=[],u=function(t){if(t<s.length){var c=void 0;try{c=i.compressBlock(s[t])}catch(t){return void n(void 0,t)}a.push(c),o.getElapsedTime()<=20?u(t+1):(e.enqueueImmediate((function(){return u(t+1)})),o.restart())}else{var d=e.ArrayTools.concatUint8Arrays(a);e.enqueueImmediate((function(){var t;try{t=e.CompressionCommon.encodeCompressedBytes(d,r.outputEncoding)}catch(t){return void n(void 0,t)}e.enqueueImmediate((function(){return n(t)}))}))}};e.enqueueImmediate((function(){return u(0)}))},r.createCompressionStream=function(){var t=new e.Compressor,r=new(require("readable-stream").Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var s;try{s=e.BufferTools.uint8ArrayToBuffer(t.compressBlock(e.BufferTools.bufferToUint8Array(n)))}catch(n){return void r.emit("error",n)}r.push(s),i()},r},r);function r(){}e.AsyncCompressor=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.decompressAsync=function(t,r,n){if(!n)throw new TypeError("decompressAsync: No callback argument given");var o=new e.Timer;try{t=e.CompressionCommon.decodeCompressedBytes(t,r.inputEncoding)}catch(t){return void n(void 0,t)}var i=new e.Decompressor,s=e.ArrayTools.splitByteArray(t,r.blockSize),a=[],u=function(t){if(t<s.length){var c=void 0;try{c=i.decompressBlock(s[t])}catch(t){return void n(void 0,t)}a.push(c),o.getElapsedTime()<=20?u(t+1):(e.enqueueImmediate((function(){return u(t+1)})),o.restart())}else{var d=e.ArrayTools.concatUint8Arrays(a);e.enqueueImmediate((function(){var t;try{t=e.CompressionCommon.encodeDecompressedBytes(d,r.outputEncoding)}catch(t){return void n(void 0,t)}e.enqueueImmediate((function(){return n(t)}))}))}};e.enqueueImmediate((function(){return u(0)}))},r.createDecompressionStream=function(){var t=new e.Decompressor,r=new(require("readable-stream").Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var s;try{s=e.BufferTools.uint8ArrayToBuffer(t.decompressBlock(e.BufferTools.bufferToUint8Array(n)))}catch(n){return void r.emit("error",n)}r.push(s),i()},r},r);function r(){}e.AsyncDecompressor=t}(LZUTF8=LZUTF8||{}),function(e){var t,r;(r=t=e.WebWorker||(e.WebWorker={})).compressAsync=function(e,t,n){var o,i;"ByteArray"!=t.inputEncoding||e instanceof Uint8Array?(o={token:Math.random().toString(),type:"compress",data:e,inputEncoding:t.inputEncoding,outputEncoding:t.outputEncoding},i=function(e){(e=e.data)&&e.token==o.token&&(r.globalWorker.removeEventListener("message",i),"error"==e.type?n(void 0,new Error(e.error)):n(e.data))},r.globalWorker.addEventListener("message",i),r.globalWorker.postMessage(o,[])):n(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},r.decompressAsync=function(e,t,n){var o={token:Math.random().toString(),type:"decompress",data:e,inputEncoding:t.inputEncoding,outputEncoding:t.outputEncoding},i=function(e){(e=e.data)&&e.token==o.token&&(r.globalWorker.removeEventListener("message",i),"error"==e.type?n(void 0,new Error(e.error)):n(e.data))};r.globalWorker.addEventListener("message",i),r.globalWorker.postMessage(o,[])},r.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(t){var r=t.data;if("compress"==r.type){var n=void 0;try{n=e.compress(r.data,{outputEncoding:r.outputEncoding})}catch(t){return void self.postMessage({token:r.token,type:"error",error:e.createErrorMessage(t)},[])}(o={token:r.token,type:"compressionResult",data:n,encoding:r.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if("decompress"==r.type){var o,i=void 0;try{i=e.decompress(r.data,{inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding})}catch(t){return void self.postMessage({token:r.token,type:"error",error:e.createErrorMessage(t)},[])}(o={token:r.token,type:"decompressionResult",data:i,encoding:r.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}})),self.addEventListener("error",(function(t){e.log(e.createErrorMessage(t.error,"Unexpected LZUTF8 WebWorker exception"))})))},r.createGlobalWorkerIfNeeded=function(){return!!r.globalWorker||!!e.webWorkersAvailable()&&(r.scriptURI||"object"!=typeof document||null!=(t=document.getElementById("lzutf8"))&&(r.scriptURI=t.getAttribute("src")||void 0),!!r.scriptURI&&(r.globalWorker=new Worker(r.scriptURI),!0));var t},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)},t.installWebWorkerIfNeeded()}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.get=function(e){return this.container[this.startPosition+e]},r.prototype.getInReversedOrder=function(e){return this.container[this.startPosition+this.length-1-e]},r.prototype.set=function(e,t){this.container[this.startPosition+e]=t},r);function r(e,t,r){this.container=e,this.startPosition=t,this.length=r}e.ArraySegment=t}(LZUTF8=LZUTF8||{}),function(e){(e=e.ArrayTools||(e.ArrayTools={})).copyElements=function(e,t,r,n,o){for(;o--;)r[n++]=e[t++]},e.zeroElements=function(e,t,r){for(;r--;)e[t++]=0},e.countNonzeroValuesInArray=function(e){for(var t=0,r=0;r<e.length;r++)e[r]&&t++;return t},e.truncateStartingElements=function(e,t){if(e.length<=t)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var r=e.length-t,n=0;n<t;n++)e[n]=e[r+n];e.length=t},e.doubleByteArrayCapacity=function(e){var t=new Uint8Array(2*e.length);return t.set(e),t},e.concatUint8Arrays=function(e){for(var t=0,r=0,n=e;r<n.length;r++)t+=(u=n[r]).length;for(var o=new Uint8Array(t),i=0,s=0,a=e;s<a.length;s++){var u=a[s];o.set(u,i),i+=u.length}return o},e.splitByteArray=function(e,t){for(var r=[],n=0;n<e.length;){var o=Math.min(t,e.length-n);r.push(e.subarray(n,n+o)),n+=o}return r}}(LZUTF8=LZUTF8||{}),function(e){var t;(t=e.BufferTools||(e.BufferTools={})).convertToUint8ArrayIfNeeded=function(e){return"function"==typeof Buffer&&Buffer.isBuffer(e)?t.bufferToUint8Array(e):e},t.uint8ArrayToBuffer=function(e){if(Buffer.prototype instanceof Uint8Array){var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return Object.setPrototypeOf(t,Buffer.prototype),t}for(var r=e.length,n=new Buffer(r),o=0;o<r;o++)n[o]=e[o];return n},t.bufferToUint8Array=function(e){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e[n];return r}}(LZUTF8=LZUTF8||{}),function(e){var t;(t=e.CompressionCommon||(e.CompressionCommon={})).getCroppedBuffer=function(e,t,r,n){return void 0===n&&(n=0),(n=new Uint8Array(r+n)).set(e.subarray(t,t+r)),n},t.getCroppedAndAppendedByteArray=function(t,r,n,o){return e.ArrayTools.concatUint8Arrays([t.subarray(r,r+n),o])},t.detectCompressionSourceEncoding=function(e){if(null==e)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof e)return"String";if(e instanceof Uint8Array||"function"==typeof Buffer&&Buffer.isBuffer(e))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},t.encodeCompressedBytes=function(t,r){switch(r){case"ByteArray":return t;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(t);case"Base64":return e.encodeBase64(t);case"BinaryString":return e.encodeBinaryString(t);case"StorageBinaryString":return e.encodeStorageBinaryString(t);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},t.decodeCompressedBytes=function(t,r){if(null==r)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(r){case"ByteArray":case"Buffer":var n=e.BufferTools.convertToUint8ArrayIfNeeded(t);if(!(n instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return n;case"Base64":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(t);case"BinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(t);case"StorageBinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(t);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '"+r+"'")}},t.encodeDecompressedBytes=function(t,r){switch(r){case"String":return e.decodeUTF8(t);case"ByteArray":return t;case"Buffer":if("function"!=typeof Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(t);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(LZUTF8=LZUTF8||{}),function(e){var t,r,n,o;r=t=e.EventLoop||(e.EventLoop={}),o=[],r.enqueueImmediate=function(e){o.push(e),1===o.length&&n()},r.initializeScheduler=function(){function t(){for(var t=0,r=o;t<r.length;t++){var n=r[t];try{n.call(void 0)}catch(t){e.printExceptionAndStackTraceToConsole(t,"enqueueImmediate exception")}}o.length=0}var r,i,s;e.runningInNodeJS()&&(n=function(){return setImmediate(t)}),n="object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage?(r="enqueueImmediate-"+Math.random().toString(),window.addEventListener("message",(function(e){e.data===r&&t()})),i=e.runningInNullOrigin()?"*":window.location.href,function(){return window.postMessage(r,i)}):"function"==typeof MessageChannel&&"function"==typeof MessagePort?((s=new MessageChannel).port1.onmessage=t,function(){return s.port2.postMessage(0)}):function(){return setTimeout(t,0)}},r.initializeScheduler(),e.enqueueImmediate=function(e){return t.enqueueImmediate(e)}}(LZUTF8=LZUTF8||{}),function(e){var t;(t=e.ObjectTools||(e.ObjectTools={})).override=function(e,r){return t.extend(e,r)},t.extend=function(e,t){if(null==e)throw new TypeError("obj is null or undefined");if("object"!=typeof e)throw new TypeError("obj is not an object");if(null==t&&(t={}),"object"!=typeof t)throw new TypeError("newProperties is not an object");if(null!=t)for(var r in t)e[r]=t[r];return e}}(LZUTF8=LZUTF8||{}),function(e){e.getRandomIntegerInRange=function(e,t){return e+Math.floor(Math.random()*(t-e))},e.getRandomUTF16StringOfLength=function(t){for(var r="",n=0;n<t;n++){for(var o=void 0;55296<=(o=e.getRandomIntegerInRange(0,1114112))&&o<=57343;);r+=e.Encoding.CodePoint.decodeToString(o)}return r}}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.appendCharCode=function(e){this.outputBuffer[this.outputPosition++]=e,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(e){for(var t=0,r=e.length;t<r;t++)this.appendCharCode(e[t])},r.prototype.appendString=function(e){for(var t=0,r=e.length;t<r;t++)this.appendCharCode(e.charCodeAt(t))},r.prototype.appendCodePoint=function(e){if(e<=65535)this.appendCharCode(e);else{if(!(e<=1114111))throw new Error("appendCodePoint: A code point of "+e+" cannot be encoded in UTF-16");this.appendCharCode(55296+(e-65536>>>10)),this.appendCharCode(56320+(e-65536&1023))}},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r);function r(e){void 0===e&&(e=1024),this.outputBufferCapacity=e,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}e.StringBuilder=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var e=this.getElapsedTime();return this.restart(),e},r.prototype.logAndRestart=function(t,r){void 0===r&&(r=!0);var n=this.getElapsedTime();t=t+": "+n.toFixed(3)+"ms";return e.log(t,r),this.restart(),n},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(1e3*r.getTimestamp())},r.createGlobalTimestampFunction=function(){var e,t,r,n;"object"==typeof process&&"function"==typeof process.hrtime?(e=0,this.timestampFunc=function(){var t=1e3*(t=process.hrtime())[0]+t[1]/1e6;return e+t},e=Date.now()-this.timestampFunc()):"object"==typeof chrome&&chrome.Interval?(t=Date.now(),(r=new chrome.Interval).start(),this.timestampFunc=function(){return t+r.microseconds()/1e3}):"object"==typeof performance&&performance.now?(n=Date.now()-performance.now(),this.timestampFunc=function(){return n+performance.now()}):Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},r);function r(){this.restart()}e.Timer=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.compressBlock=function(t){if(null==t)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof t&&(t=e.encodeUTF8(t)),t=e.BufferTools.convertToUint8ArrayIfNeeded(t),this.compressUtf8Block(t)},r.prototype.compressUtf8Block=function(e){if(!e||0==e.length)return new Uint8Array(0);var t=this.cropAndAddNewBytesToInputBuffer(e),r=this.inputBuffer,n=this.inputBuffer.length;this.outputBuffer=new Uint8Array(e.length);for(var o=this.outputBufferPosition=0,i=t;i<n;i++){var s,a,u=r[i],c=i<o;i>n-this.MinimumSequenceLength?c||this.outputRawByte(u):(s=this.getBucketIndexForPrefix(i),c||null!=(a=this.findLongestMatch(i,s))&&(this.outputPointerBytes(a.length,a.distance),o=i+a.length,c=!0),c||this.outputRawByte(u),u=this.inputBufferStreamOffset+i,this.prefixHashTable.addValueToBucket(s,u))}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(e,t){var r=this.prefixHashTable.getArraySegmentForBucketIndex(t,this.reusableArraySegmentObject);if(null==r)return null;for(var n,o=this.inputBuffer,i=0,s=0;s<r.length;s++){var a=r.getInReversedOrder(s)-this.inputBufferStreamOffset,u=e-a,c=void 0===n?this.MinimumSequenceLength-1:n<128&&128<=u?i+(i>>>1):i;if(u>this.MaximumMatchDistance||c>=this.MaximumSequenceLength||e+c>=o.length)break;if(o[a+c]===o[e+c])for(var d=0;;d++){if(e+d===o.length||o[a+d]!==o[e+d]){c<d&&(n=u,i=d);break}if(d===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==n?{distance:n,length:i}:null},r.prototype.getBucketIndexForPrefix=function(e){return(7880599*this.inputBuffer[e]+39601*this.inputBuffer[e+1]+199*this.inputBuffer[e+2]+this.inputBuffer[e+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(e,t){t<128?(this.outputRawByte(192|e),this.outputRawByte(t)):(this.outputRawByte(224|e),this.outputRawByte(t>>>8),this.outputRawByte(255&t))},r.prototype.outputRawByte=function(e){this.outputBuffer[this.outputBufferPosition++]=e},r.prototype.cropAndAddNewBytesToInputBuffer=function(t){if(void 0===this.inputBuffer)return this.inputBuffer=t,0;var r=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),n=this.inputBuffer.length-r;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,n,r,t),this.inputBufferStreamOffset+=n,r},r);function r(t){void 0===t&&(t=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,t&&"function"==typeof Uint32Array?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}e.Compressor=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.addValueToBucket=function(t,r){t<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var n,o,i=this.bucketLocators[t];0===i?(i=this.storageIndex,n=1,this.storage[this.storageIndex]=r,this.storageIndex+=this.minimumBucketCapacity):((n=this.bucketLocators[t+1])===this.maximumBucketCapacity-1&&(n=this.truncateBucketToNewerElements(i,n,this.maximumBucketCapacity/2)),o=i+n,0===this.storage[o]?(this.storage[o]=r,o===this.storageIndex&&(this.storageIndex+=n)):(e.ArrayTools.copyElements(this.storage,i,this.storage,this.storageIndex,n),i=this.storageIndex,this.storageIndex+=n,this.storage[this.storageIndex++]=r,this.storageIndex+=n),n++),this.bucketLocators[t]=i,this.bucketLocators[t+1]=n},r.prototype.truncateBucketToNewerElements=function(t,r,n){var o=t+r-n;return e.ArrayTools.copyElements(this.storage,o,this.storage,t,n),e.ArrayTools.zeroElements(this.storage,t+n,r-n),n},r.prototype.compact=function(){var t=this.bucketLocators,r=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var n=0;n<t.length;n+=2){var o=t[n+1];0!==o&&(this.bucketLocators[n]=this.storageIndex,this.bucketLocators[n+1]=o,this.storageIndex+=Math.max(Math.min(2*o,this.maximumBucketCapacity),this.minimumBucketCapacity))}for(this.storage=new Uint32Array(8*this.storageIndex),n=0;n<t.length;n+=2){var i,s,a=t[n];0!==a&&(i=this.bucketLocators[n],s=this.bucketLocators[n+1],e.ArrayTools.copyElements(r,a,this.storage,i,s))}},r.prototype.getArraySegmentForBucketIndex=function(t,r){t<<=1;var n=this.bucketLocators[t];return 0===n?null:(void 0===r&&(r=new e.ArraySegment(this.storage,n,this.bucketLocators[t+1])),r)},r.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var e=0,t=0;t<this.bucketLocators.length;t+=2)e+=this.bucketLocators[t+1];return e},r);function r(e){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*e),this.storage=new Uint32Array(2*e),this.storageIndex=1}e.CompressorCustomHashTable=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.addValueToBucket=function(t,r){var n=this.buckets[t];void 0===n?this.buckets[t]=[r]:(n.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(n,this.maximumBucketCapacity/2),n.push(r))},r.prototype.getArraySegmentForBucketIndex=function(t,r){return void 0===(t=this.buckets[t])?null:(void 0===r&&(r=new e.ArraySegment(t,0,t.length)),r)},r.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var e=0,t=0;t<this.buckets.length;t++)void 0!==this.buckets[t]&&(e+=this.buckets[t].length);return e},r);function r(e){this.maximumBucketCapacity=64,this.buckets=new Array(e)}e.CompressorSimpleHashTable=t}(LZUTF8=LZUTF8||{}),function(e){var t=(r.prototype.decompressBlockToString=function(t){return t=e.BufferTools.convertToUint8ArrayIfNeeded(t),e.decodeUTF8(this.decompressBlock(t))},r.prototype.decompressBlock=function(t){this.inputBufferRemainder&&(t=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,t]),this.inputBufferRemainder=void 0);for(var r=this.cropOutputBufferToWindowAndInitialize(Math.max(4*t.length,1024)),n=0,o=t.length;n<o;n++){var i=t[n];if(i>>>6==3){var s=i>>>5;if(n==o-1||n==o-2&&7==s){this.inputBufferRemainder=t.subarray(n);break}if(t[n+1]>>>7==1)this.outputByte(i);else{var a=31&i,u=void 0;6==s?(u=t[n+1],n+=1):(u=t[n+1]<<8|t[n+2],n+=2);for(var c=this.outputPosition-u,d=0;d<a;d++)this.outputByte(this.outputBuffer[c+d])}}else this.outputByte(i)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,r,this.outputPosition-r)},r.prototype.outputByte=function(t){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=t},r.prototype.cropOutputBufferToWindowAndInitialize=function(t){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(t),0;var r=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-r,r,t),this.outputPosition=r,this.outputBufferRemainder){for(var n=0;n<this.outputBufferRemainder.length;n++)this.outputByte(this.outputBufferRemainder[n]);this.outputBufferRemainder=void 0}return r},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var e=1;e<=4&&0<=this.outputPosition-e;e++){var t=this.outputBuffer[this.outputPosition-e];if(e<4&&t>>>3==30||e<3&&t>>>4==14||e<2&&t>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-e,this.outputPosition),void(this.outputPosition-=e)}},r);function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}e.Decompressor=t}(LZUTF8=LZUTF8||{}),function(e){var t,r,n,o;t=e.Encoding||(e.Encoding={}),r=t.Base64||(t.Base64={}),n=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),o=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),r.encode=function(t){return t&&0!=t.length?e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(t).toString("base64"):r.encodeWithJS(t):""},r.decode=function(t){return t?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(Buffer.from(t,"base64")):r.decodeWithJS(t):new Uint8Array(0)},r.encodeWithJS=function(t,r){if(void 0===r&&(r=!0),!t||0==t.length)return"";for(var o,i=n,s=new e.StringBuilder,a=0,u=t.length;a<u;a+=3)a<=u-3?(o=t[a]<<16|t[a+1]<<8|t[a+2],s.appendCharCode(i[o>>>18&63]),s.appendCharCode(i[o>>>12&63]),s.appendCharCode(i[o>>>6&63]),s.appendCharCode(i[63&o]),o=0):a===u-2?(o=t[a]<<16|t[a+1]<<8,s.appendCharCode(i[o>>>18&63]),s.appendCharCode(i[o>>>12&63]),s.appendCharCode(i[o>>>6&63]),r&&s.appendCharCode(61)):a===u-1&&(o=t[a]<<16,s.appendCharCode(i[o>>>18&63]),s.appendCharCode(i[o>>>12&63]),r&&(s.appendCharCode(61),s.appendCharCode(61)));return s.getOutputString()},r.decodeWithJS=function(e,t){if(!e||0==e.length)return new Uint8Array(0);var r=e.length%4;if(1==r)throw new Error("Invalid Base64 string: length % 4 == 1");2==r?e+="==":3==r&&(e+="="),t=t||new Uint8Array(e.length);for(var n=0,i=e.length,s=0;s<i;s+=4){var a=o[e.charCodeAt(s)]<<18|o[e.charCodeAt(s+1)]<<12|o[e.charCodeAt(s+2)]<<6|o[e.charCodeAt(s+3)];t[n++]=a>>>16&255,t[n++]=a>>>8&255,t[n++]=255&a}return 61==e.charCodeAt(i-1)&&n--,61==e.charCodeAt(i-2)&&n--,t.subarray(0,n)}}(LZUTF8=LZUTF8||{}),function(e){var t;(t=(t=e.Encoding||(e.Encoding={})).BinaryString||(t.BinaryString={})).encode=function(t){if(null==t)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===t.length)return"";for(var r=t.length,n=new e.StringBuilder,o=0,i=1,s=0;s<r;s+=2){var a=s==r-1?t[s]<<8:t[s]<<8|t[s+1];n.appendCharCode(o<<16-i|a>>>i),o=a&(1<<i)-1,15===i?(n.appendCharCode(o),o=0,i=1):i+=1,r-2<=s&&n.appendCharCode(o<<16-i)}return n.appendCharCode(32768|r%2),n.getOutputString()},t.decode=function(e){if("string"!=typeof e)throw new TypeError("BinaryString.decode: invalid input type");if(""==e)return new Uint8Array(0);for(var t,r=new Uint8Array(3*e.length),n=0,o=0,i=0,s=0;s<e.length;s++){var a=e.charCodeAt(s);32768<=a?(32769==a&&n--,i=0):(o=0==i?a:(t=o<<i|a>>>15-i,r[n++]=t>>>8,r[n++]=255&t,a&(1<<15-i)-1),15==i?i=0:i+=1)}return r.subarray(0,n)}}(LZUTF8=LZUTF8||{}),function(e){(e=(e=e.Encoding||(e.Encoding={})).CodePoint||(e.CodePoint={})).encodeFromString=function(e,t){var r=e.charCodeAt(t);if(r<55296||56319<r)return r;if(56320<=(t=e.charCodeAt(t+1))&&t<=57343)return t-56320+(r-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code "+r+", followed by "+t+", which is not a trailing surrogate character code.")},e.decodeToString=function(e){if(e<=65535)return String.fromCharCode(e);if(e<=1114111)return String.fromCharCode(55296+(e-65536>>>10),56320+(e-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of "+e+" cannot be encoded in UTF-16")}}(LZUTF8=LZUTF8||{}),function(e){var t;e=(e=e.Encoding||(e.Encoding={})).DecimalString||(e.DecimalString={}),t=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"],e.encode=function(e){for(var r=[],n=0;n<e.length;n++)r.push(t[e[n]]);return r.join(" ")}}(LZUTF8=LZUTF8||{}),function(e){var t;(e=(t=e.Encoding||(e.Encoding={})).StorageBinaryString||(t.StorageBinaryString={})).encode=function(e){return t.BinaryString.encode(e).replace(/\0/g,"耂")},e.decode=function(e){return t.BinaryString.decode(e.replace(/\u8002/g,"\0"))}}(LZUTF8=LZUTF8||{}),function(e){var t,r,n,o;t=e.Encoding||(e.Encoding={}),(r=t.UTF8||(t.UTF8={})).encode=function(t){return t&&0!=t.length?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(Buffer.from(t,"utf8")):r.createNativeTextEncoderAndDecoderIfAvailable()?n.encode(t):r.encodeWithJS(t):new Uint8Array(0)},r.decode=function(t){return t&&0!=t.length?e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(t).toString("utf8"):r.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(t):r.decodeWithJS(t):""},r.encodeWithJS=function(e,r){if(!e||0==e.length)return new Uint8Array(0);r=r||new Uint8Array(4*e.length);for(var n=0,o=0;o<e.length;o++){var i=t.CodePoint.encodeFromString(e,o);if(i<=127)r[n++]=i;else if(i<=2047)r[n++]=192|i>>>6,r[n++]=128|63&i;else if(i<=65535)r[n++]=224|i>>>12,r[n++]=128|i>>>6&63,r[n++]=128|63&i;else{if(!(i<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");r[n++]=240|i>>>18,r[n++]=128|i>>>12&63,r[n++]=128|i>>>6&63,r[n++]=128|63&i,o++}}return r.subarray(0,n)},r.decodeWithJS=function(t,r,n){if(void 0===r&&(r=0),!t||0==t.length)return"";void 0===n&&(n=t.length);for(var o,i,s=new e.StringBuilder,a=r,u=n;a<u;){if((i=t[a])>>>7==0)o=i,a+=1;else if(i>>>5==6){if(n<=a+1)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);o=(31&i)<<6|63&t[a+1],a+=2}else if(i>>>4==14){if(n<=a+2)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);o=(15&i)<<12|(63&t[a+1])<<6|63&t[a+2],a+=3}else{if(i>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+a);if(n<=a+3)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+a);o=(7&i)<<18|(63&t[a+1])<<12|(63&t[a+2])<<6|63&t[a+3],a+=4}s.appendCodePoint(o)}return s.getOutputString()},r.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!n||"function"==typeof TextEncoder&&(n=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0)}}(LZUTF8=LZUTF8||{}),function(e){e.compress=function(t,r){if(void 0===r&&(r={}),null==t)throw new TypeError("compress: undefined or null input received");var n=e.CompressionCommon.detectCompressionSourceEncoding(t);return r=e.ObjectTools.override({inputEncoding:n,outputEncoding:"ByteArray"},r),t=(new e.Compressor).compressBlock(t),e.CompressionCommon.encodeCompressedBytes(t,r.outputEncoding)},e.decompress=function(t,r){if(void 0===r&&(r={}),null==t)throw new TypeError("decompress: undefined or null input received");return r=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},r),t=e.CompressionCommon.decodeCompressedBytes(t,r.inputEncoding),t=(new e.Decompressor).decompressBlock(t),e.CompressionCommon.encodeDecompressedBytes(t,r.outputEncoding)},e.compressAsync=function(t,r,n){var o;null==n&&(n=function(){});try{o=e.CompressionCommon.detectCompressionSourceEncoding(t)}catch(t){return void n(void 0,t)}r=e.ObjectTools.override({inputEncoding:o,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},r),e.enqueueImmediate((function(){(r.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker:e.AsyncCompressor).compressAsync(t,r,n)}))},e.decompressAsync=function(t,r,n){var o;null==n&&(n=function(){}),null!=t?(r=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},r),o=e.BufferTools.convertToUint8ArrayIfNeeded(t),e.EventLoop.enqueueImmediate((function(){r.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(o,r,n):e.AsyncDecompressor.decompressAsync(t,r,n)}))):n(void 0,new TypeError("decompressAsync: undefined or null input received"))},e.createCompressionStream=function(){return e.AsyncCompressor.createCompressionStream()},e.createDecompressionStream=function(){return e.AsyncDecompressor.createDecompressionStream()},e.encodeUTF8=function(t){return e.Encoding.UTF8.encode(t)},e.decodeUTF8=function(t){return e.Encoding.UTF8.decode(t)},e.encodeBase64=function(t){return e.Encoding.Base64.encode(t)},e.decodeBase64=function(t){return e.Encoding.Base64.decode(t)},e.encodeBinaryString=function(t){return e.Encoding.BinaryString.encode(t)},e.decodeBinaryString=function(t){return e.Encoding.BinaryString.decode(t)},e.encodeStorageBinaryString=function(t){return e.Encoding.StorageBinaryString.encode(t)},e.decodeStorageBinaryString=function(t){return e.Encoding.StorageBinaryString.decode(t)}}(LZUTF8=LZUTF8||{}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&"undefined"!=typeof exports?module.exports=t():e.Papa=t()}(this,(function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,n=r&&/blob:/i.test((t.location||{}).protocol),o={},i=0,s={parse:function(r,n){var a=(n=n||{}).dynamicTyping||!1;if(T(a)&&(n.dynamicTypingFunction=a,a={}),n.dynamicTyping=a,n.transform=!!T(n.transform)&&n.transform,n.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var r,n,a=(r=t.URL||t.webkitURL||null,n=e.toString(),s.BLOB_URL||(s.BLOB_URL=r.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),u=new t.Worker(a);return u.onmessage=m,u.id=i++,o[u.id]=u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=T(n.step),n.chunk=T(n.chunk),n.complete=T(n.complete),n.error=T(n.error),delete n.worker,void u.postMessage({input:r,config:n,workerId:u.id})}var h=null;return s.NODE_STREAM_INPUT,"string"==typeof r?h=n.download?new c(n):new f(n):!0===r.readable&&T(r.read)&&T(r.on)?h=new p(n):(t.File&&r instanceof File||r instanceof Object)&&(h=new d(n)),h.stream(r)},unparse:function(e,t){var r=!1,n=!0,o=",",i="\r\n",a='"',u=a+a,c=!1,d=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+a),"boolean"==typeof t.escapeFormulae&&(f=t.escapeFormulae)}}();var p=new RegExp(l(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,r){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(a&&n){for(var c=0;c<e.length;c++)0<c&&(s+=o),s+=g(e[c],c);0<t.length&&(s+=i)}for(var d=0;d<t.length;d++){var f=a?e.length:t[d].length,p=!1,h=a?0===Object.keys(t[d]).length:0===t[d].length;if(r&&!a&&(p="greedy"===r?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===r&&a){for(var l=[],m=0;m<f;m++){var y=u?e[m]:m;l.push(t[d][y])}p=""===l.join("").trim()}if(!p){for(var v=0;v<f;v++){0<v&&!h&&(s+=o);var w=a&&u?e[v]:v;s+=g(t[d][w],v)}d<t.length-1&&(!r||0<f&&!h)&&(s+=i)}}return s}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===f&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var n=e.toString().replace(p,u);return"boolean"==typeof r&&r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(n,s.BAD_DELIMITERS)||-1<n.indexOf(o)||" "===n.charAt(0)||" "===n.charAt(n.length-1)?a+n+a:n}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=h,s.NetworkStreamer=c,s.FileStreamer=d,s.StringStreamer=f,s.ReadableStreamStreamer=p,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var r=e.config||{},n=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:a.extend({},r)})})),o(),this;function o(){if(0!==n.length){var t,r,o,u=n[0];if(T(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return"AbortError",t=u.file,r=u.inputElem,o=c.reason,void(T(e.error)&&e.error({name:"AbortError"},t,r,o));if("skip"===c.action)return void i();"object"==typeof c.config&&(u.instanceConfig=a.extend(u.instanceConfig,c.config))}else if("skip"===c)return void i()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){T(d)&&d(e,u.file,u.inputElem),i()},s.parse(u.file,u.instanceConfig)}else T(e.complete)&&e.complete()}function i(){n.splice(0,1),o()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&T(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var a=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=i.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(T(this._config.chunk)&&!r){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!T(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){T(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),u.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(new Error(r))}}function d(e){var t,r;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),u.call(this,e);var n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,o)}var i=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){u.call(this,e=e||{});var t=[],r=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,r,n,o=Math.pow(2,53),i=-o,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,d=0,f=0,p=!1,h=!1,m=[],y={data:[],errors:[],meta:{}};if(T(e.step)){var v=e.step;e.step=function(t){if(y=t,E())B();else{if(B(),0===y.data.length)return;d+=t.data.length,e.preview&&d>e.preview?r.abort():(y.data=y.data[0],v(y,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function B(){if(y&&n&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines)for(var t=0;t<y.data.length;t++)b(y.data[t])&&y.data.splice(t--,1);return E()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;E()&&t<y.data.length;t++)y.data[t].forEach(r);y.data.splice(0,1)}else y.data.forEach(r);function r(t,r){T(e.transformHeader)&&(t=e.transformHeader(t,r)),m.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,r){var n,o=e.header?{}:[];for(n=0;n<t.length;n++){var i=n,s=t[n];e.header&&(i=n>=m.length?"__parsed_extra":m[n]),e.transform&&(s=e.transform(s,i)),s=C(i,s),"__parsed_extra"===i?(o[i]=o[i]||[],o[i].push(s)):o[i]=s}return e.header&&(n>m.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+n,f+r):n<m.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+n,f+r)),o}var r=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),r=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=m),f+=r,y}()}function E(){return e.header&&0===m.length}function C(t,r){return n=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[n]&&(e.dynamicTyping[n]=e.dynamicTypingFunction(n)),!0===(e.dynamicTyping[n]||e.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(e){if(a.test(e)){var t=parseFloat(e);if(i<t&&t<o)return!0}return!1}(r)?parseFloat(r):u.test(r)?new Date(r):""===r?null:r):r;var n}function k(e,t,r,n){var o={type:e,code:t,message:r};void 0!==n&&(o.row=n),y.errors.push(o)}this.parse=function(o,i,a){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(l(t)+"([^]*?)"+l(t),"gm"),n=(e=e.replace(r,"")).split("\r"),o=e.split("\n"),i=1<o.length&&o[0].length<n[0].length;if(1===n.length||i)return"\n";for(var s=0,a=0;a<n.length;a++)"\n"===n[a][0]&&s++;return s>=n.length/2?"\r\n":"\r"}(o,u)),n=!1,e.delimiter)T(e.delimiter)&&(e.delimiter=e.delimiter(o),y.meta.delimiter=e.delimiter);else{var c=function(t,r,n,o,i){var a,u,c,d;i=i||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var f=0;f<i.length;f++){var p=i[f],h=0,l=0,m=0;c=void 0;for(var y=new g({comments:o,delimiter:p,newline:r,preview:10}).parse(t),v=0;v<y.data.length;v++)if(n&&b(y.data[v]))m++;else{var w=y.data[v].length;l+=w,void 0!==c?0<w&&(h+=Math.abs(w-c),c=w):c=w}0<y.data.length&&(l/=y.data.length-m),(void 0===u||h<=u)&&(void 0===d||d<l)&&1.99<l&&(u=h,a=p,d=l)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(n=!0,e.delimiter=s.DefaultDelimiter),y.meta.delimiter=e.delimiter}var d=w(e);return e.preview&&e.header&&d.preview++,t=o,r=new g(d),y=r.parse(t,i,a),B(),p?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,r.abort(),t=T(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){c.streamer._halted?(p=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,r.abort(),y.meta.aborted=!0,T(e.complete)&&e.complete(y),t=""}}function l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,r=(e=e||{}).delimiter,n=e.newline,o=e.comments,i=e.step,a=e.preview,u=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=","),o===r)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<s.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,f=!1;this.parse=function(e,s,p){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,g=r.length,m=n.length,y=o.length,v=T(i),w=[],b=[],B=[],E=d=0;if(!e)return M();if(u||!1!==u&&-1===e.indexOf(t)){for(var C=e.split(n),k=0;k<C.length;k++){if(B=C[k],d+=B.length,k!==C.length-1)d+=n.length;else if(p)return M();if(!o||B.substring(0,y)!==o){if(v){if(w=[],x(B.split(r)),D(),f)return M()}else x(B.split(r));if(a&&a<=k)return w=w.slice(0,a),M(!0)}}return M()}for(var S=e.indexOf(r,d),A=e.indexOf(n,d),_=new RegExp(l(c)+l(t),"g"),U=e.indexOf(t,d);;)if(e[d]!==t)if(o&&0===B.length&&e.substring(d,d+y)===o){if(-1===A)return M();d=A+m,A=e.indexOf(n,d),S=e.indexOf(r,d)}else if(-1!==S&&(S<A||-1===A))B.push(e.substring(d,S)),d=S+g,S=e.indexOf(r,d);else{if(-1===A)break;if(B.push(e.substring(d,A)),O(A+m),v&&(D(),f))return M();if(a&&w.length>=a)return M(!0)}else for(U=d,d++;;){if(-1===(U=e.indexOf(t,U+1)))return p||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:d}),R();if(U===h-1)return R(e.substring(d,U).replace(_,t));if(t!==c||e[U+1]!==c){if(t===c||0===U||e[U-1]!==c){-1!==S&&S<U+1&&(S=e.indexOf(r,U+1)),-1!==A&&A<U+1&&(A=e.indexOf(n,U+1));var L=F(-1===A?S:Math.min(S,A));if(e[U+1+L]===r){B.push(e.substring(d,U).replace(_,t)),e[d=U+1+L+g]!==t&&(U=e.indexOf(t,d)),S=e.indexOf(r,d),A=e.indexOf(n,d);break}var I=F(A);if(e.substring(U+1+I,U+1+I+m)===n){if(B.push(e.substring(d,U).replace(_,t)),O(U+1+I+m),S=e.indexOf(r,d),U=e.indexOf(t,d),v&&(D(),f))return M();if(a&&w.length>=a)return M(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:d}),U++}}else U++}return R();function x(e){w.push(e),E=d}function F(t){var r=0;if(-1!==t){var n=e.substring(U+1,t);n&&""===n.trim()&&(r=n.length)}return r}function R(t){return p||(void 0===t&&(t=e.substring(d)),B.push(t),d=h,x(B),v&&D()),M()}function O(t){d=t,x(B),B=[],A=e.indexOf(n,d)}function M(e){return{data:w,errors:b,meta:{delimiter:r,linebreak:n,aborted:f,truncated:!!e,cursor:E+(s||0)}}}function D(){i(M()),w=[],b=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return d}}function m(e){var t=e.data,r=o[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){n=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(T(r.userStep)){for(var s=0;s<t.results.data.length&&(r.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!n);s++);delete t.results}else T(r.userChunk)&&(r.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!n&&y(t.workerId,t.results)}function y(e,t){var r=o[e];T(r.userComplete)&&r.userComplete(t),r.terminate(),delete o[e]}function v(){throw new Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=w(e[r]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function T(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var r=e.data;if(void 0===s.WORKER_ID&&r&&(s.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var n=s.parse(r.input,r.config);n&&t.postMessage({workerId:s.WORKER_ID,results:n,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,s}));export default async function VideoView(e,t){const r=document.createElement("div");r.classList.add("lesson_wrapper");const n={byline:!1,title:!1,width:"600px",id:"https://vimeo.com/270665447"},o=await getCoursesData(e,t),i=o.vimeo_link;n.id=i;const s=document.createElement("div");s.classList.add("player"),r.player=new Vimeo.Player(s,n);const a=document.createElement("div");a.classList.add("video_desc");const u=`\n    <div class="">\n      <h2>${o.name}</h2>\n      <p class="video_desc">${o.text}</p>\n    </div>`;return a.innerHTML=u,r.append(s,a),r}
//# sourceMappingURL=cme.js.map
