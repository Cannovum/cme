{"version":3,"sources":["loginModal.js","global.js"],"names":["createLoginModal","modalWrapper","document","createElement","classList","add","Math","random","toString","substring","overlay","modal","body","innerHTML","closeButton","dataset","modalCloseButton","append","addEventListener","closeModal","console","error","setTimeout","remove","openModal","MemberStack","onReady","then","member","loggedIn","redirect","sessionStorage","getItem","log","$","hide","removeItem","window","location","assign","e","target","matches","parentNode","setItem","getAttribute","href","preventDefault","logout"],"mappings":"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","file":"global.js","sourceRoot":"../src","sourcesContent":["export default function createLoginModal() {\n\tconst modalWrapper = document.createElement(\"div\")\n\tmodalWrapper.classList.add(\n\t\t\"modal_wrapper-\" + (Math.random() + 1).toString(36).substring(2)\n\t)\n\n\tconst overlay = document.createElement(\"div\")\n\toverlay.classList.add(\"modal-overlay\")\n\n\tconst modal = document.createElement(\"div\")\n\tmodal.classList.add(\"modal\")\n\tconst body = document.createElement(\"div\")\n\tbody.classList.add(\"modal-body\")\n\tbody.innerHTML = `<iframe align=\"left\" frameborder=\"0\" scrolling=\"no\" width=\"467\" height=\"231\" name=\"dc_login_iframe\" id=\"dc_login_iframe\" src=\"https://login.doccheck.com/code/de/2000000016834/login_xl/\" ><a href=\"https://login.doccheck.com/code/de/2000000016834/login_xl/\" target=\"_blank\">LOGIN</a></iframe>`\n\n\tconst closeButton = document.createElement(\"div\")\n\tcloseButton.classList.add(\"modal-close-button\")\n\tcloseButton.dataset.modalCloseButton = true\n\tcloseButton.innerHTML = `<div class=\"txt_white mr12 text-small\">Schlie√üen</div>\n  <img src=\"https://uploads-ssl.webflow.com/60c715a8f0171b333d99d01c/60c715a8f0171b0df599d0c8_ic_round-close%20-white.svg\" loading=\"lazy\" alt=\"\" class=\"w18 h18\">`\n\n\tmodalWrapper.append(modal, overlay)\n\tmodal.append(closeButton, body)\n\n\toverlay.addEventListener(\"click\", () => closeModal())\n\tcloseButton.addEventListener(\"click\", () => closeModal())\n\n\t// * Return\n\treturn modalWrapper //the modal\n\n\t// * Functions\n\tfunction closeModal() {\n\t\tif (modal == null) {\n\t\t\tconsole.error(\"Modal close error\")\n\t\t\tconsole.error(modal)\n\t\t\treturn\n\t\t}\n\t\t// modal.classList.remove(\"active\")\n\t\t// overlay.classList.remove(\"active\")\n\t\tsetTimeout(() => modalWrapper.remove(), 125)\n\t}\n}\n\nfunction openModal() {\n\tif (modal == null) {\n\t\tconsole.error(\"Modal open error\")\n\t\tconsole.error(modal)\n\t\treturn\n\t}\n\tmodal.classList.add(\"active\")\n\toverlay.classList.add(\"active\")\n}\n","import createLoginModal from \"./loginModal\"\n\nMemberStack.onReady.then((member) => {\n\t// * MS stuff\n\tif (member.loggedIn) {\n\t\t// Redirect\n\t\tconst redirect = sessionStorage.getItem(\"redirect\")\n\t\tif (redirect) {\n\t\t\tconsole.log(\"redirect user\")\n\t\t\t$(\".dc_login-btn\").hide()\n\t\t\tsessionStorage.removeItem(\"redirect\")\n\t\t\twindow.location.assign(redirect) // Redirect user\n\t\t}\n\t\t// Hide login button\n\t\t$(\"[data-dc-login]\").hide()\n\t} else {\n\t\t$(\"[data-dc-logout]\").hide()\n\t}\n\n\t// ? Global click listener for login / logout buttons\n\tdocument.body.addEventListener(\"click\", (e) => {\n\t\tif (\n\t\t\te.target.matches(\"[data-dc-login]\") ||\n\t\t\te.target.parentNode.matches(\"[data-dc-login]\")\n\t\t) {\n\t\t\tif (e.target.matches(\"[data-redirect]\")) {\n\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\"redirect\",\n\t\t\t\t\te.target.getAttribute(\"data-redirect\")\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem(\"redirect\", window.location.href)\n\t\t\t}\n\t\t\te.preventDefault()\n\t\t\tdocument.body.append(createLoginModal())\n\t\t} else if (\n\t\t\te.target.matches(\"[data-dc-logout]\") ||\n\t\t\te.target.parentNode.matches(\"[data-dc-logout]\")\n\t\t) {\n\t\t\tMemberStack.logout()\n\t\t}\n\t})\n})\n"]}