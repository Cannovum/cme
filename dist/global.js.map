{"version":3,"sources":["loginModal.js","global.js"],"names":["createLoginModal","modalWrapper","document","createElement","classList","add","Math","random","toString","substring","overlay","modal","body","innerHTML","closeButton","dataset","modalCloseButton","append","addEventListener","closeModal","console","log","setTimeout","remove","openModal","MemberStack","onReady","then","member","loggedIn","redirect","sessionStorage","getItem","$","hide","removeItem","window","location","assign","e","target","matches","parentNode","setItem","href","preventDefault","logout"],"mappings":";AAoDC,aApDc,SAASA,IACjBC,IAAAA,EAAeC,SAASC,cAAc,OAC5CF,EAAaG,UAAUC,IACtB,kBAAoBC,KAAKC,SAAW,GAAGC,SAAS,IAAIC,UAAU,IAGzDC,IAAAA,EAAUR,SAASC,cAAc,OACvCO,EAAQN,UAAUC,IAAI,iBAEhBM,IAAAA,EAAQT,SAASC,cAAc,OACrCQ,EAAMP,UAAUC,IAAI,SACdO,IAAAA,EAAOV,SAASC,cAAc,OACpCS,EAAKR,UAAUC,IAAI,cACnBO,EAAKC,UAAL,4SAEMC,IAAAA,EAAcZ,SAASC,cAAc,OAapCF,OAZPa,EAAYV,UAAUC,IAAI,sBAC1BS,EAAYC,QAAQC,kBAAmB,EACvCF,EAAYD,UAAZ,4NAGAZ,EAAagB,OAAON,EAAOD,GAC3BC,EAAMM,OAAOH,EAAaF,GAE1BF,EAAQQ,iBAAiB,QAAS,WAAMC,OAAAA,MACxCL,EAAYI,iBAAiB,QAAS,WAAMC,OAAAA,MAGrClB,EAGEkB,SAAAA,IAEJR,GADJS,QAAQC,IAAI,UACC,MAATV,EAGH,OAFAS,QAAQC,IAAI,0BACZD,QAAQC,IAAIV,GAKbW,WAAW,WAAMrB,OAAAA,EAAasB,UAAU,MAI1C,SAASC,IACJb,GAAS,MAATA,MAGH,OAFAS,QAAQC,IAAI,yBACZD,QAAQC,IAAIV,OAGbA,MAAMP,UAAUC,IAAI,UACpBK,QAAQN,UAAUC,IAAI,UACtB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;AC9BD,aAtBA,IAAA,EAAA,EAAA,QAAA,iBAsBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApBAoB,YAAYC,QAAQC,KAAK,SAACC,GAErBA,GAAAA,EAAOC,SAAU,CAEhBC,IAAAA,EAAWC,eAAeC,QAAQ,YAClCF,IACHV,QAAQC,IAAI,iBACZY,EAAE,iBAAiBC,OACnBH,eAAeI,WAAW,YAC1BC,OAAOC,SAASC,OAAOR,IAIxBG,EAAE,mBAAmBC,YAErBD,EAAE,oBAAoBC,SAKxBhC,SAASU,KAAKM,iBAAiB,QAAS,SAACqB,GAEvCA,EAAEC,OAAOC,QAAQ,oBACjBF,EAAEC,OAAOE,WAAWD,QAAQ,oBAE5BV,eAAeY,QAAQ,WAAYP,OAAOC,SAASO,MACnDL,EAAEM,iBACF3C,SAASU,KAAKK,OAAOjB,sBAErBuC,EAAEC,OAAOC,QAAQ,qBACjBF,EAAEC,OAAOE,WAAWD,QAAQ,sBAE5BhB,YAAYqB","file":"global.js","sourceRoot":"../src","sourcesContent":["export default function createLoginModal() {\n\tconst modalWrapper = document.createElement(\"div\")\n\tmodalWrapper.classList.add(\n\t\t\"modal_wrapper-\" + (Math.random() + 1).toString(36).substring(2)\n\t)\n\n\tconst overlay = document.createElement(\"div\")\n\toverlay.classList.add(\"modal-overlay\")\n\n\tconst modal = document.createElement(\"div\")\n\tmodal.classList.add(\"modal\")\n\tconst body = document.createElement(\"div\")\n\tbody.classList.add(\"modal-body\")\n\tbody.innerHTML = `<iframe align=\"left\" frameborder=\"0\" scrolling=\"no\" width=\"424\" height=\"215\" name=\"dc_login_iframe\" id=\"dc_login_iframe\" src=\"https://login.doccheck.com/code/de/2000000017764/login_l/\" ><a href=\"https://login.doccheck.com/code/de/2000000016834/login_l/\" target=\"_blank\">LOGIN</a>LOGIN</a></iframe>`\n\n\tconst closeButton = document.createElement(\"div\")\n\tcloseButton.classList.add(\"modal-close-button\")\n\tcloseButton.dataset.modalCloseButton = true\n\tcloseButton.innerHTML = `<div class=\"txt_white mr12 text-small\">Schlie√üen</div>\n  <img src=\"https://uploads-ssl.webflow.com/60c715a8f0171b333d99d01c/60c715a8f0171b0df599d0c8_ic_round-close%20-white.svg\" loading=\"lazy\" alt=\"\" class=\"w18 h18\">`\n\n\tmodalWrapper.append(modal, overlay)\n\tmodal.append(closeButton, body)\n\n\toverlay.addEventListener(\"click\", () => closeModal())\n\tcloseButton.addEventListener(\"click\", () => closeModal())\n\n\t// * Return\n\treturn modalWrapper //the modal\n\n\t// * Functions\n\tfunction closeModal() {\n\t\tconsole.log(\"closed\")\n\t\tif (modal == null) {\n\t\t\tconsole.log(\"Modal close error\")\n\t\t\tconsole.log(modal)\n\t\t\treturn\n\t\t}\n\t\t// modal.classList.remove(\"active\")\n\t\t// overlay.classList.remove(\"active\")\n\t\tsetTimeout(() => modalWrapper.remove(), 125)\n\t}\n}\n\nfunction openModal() {\n\tif (modal == null) {\n\t\tconsole.log(\"Modal open error\")\n\t\tconsole.log(modal)\n\t\treturn\n\t}\n\tmodal.classList.add(\"active\")\n\toverlay.classList.add(\"active\")\n}\n","import createLoginModale from \"./loginModal\"\n\nMemberStack.onReady.then((member) => {\n\t// * MS stuff\n\tif (member.loggedIn) {\n\t\t// Redirect\n\t\tlet redirect = sessionStorage.getItem(\"redirect\")\n\t\tif (redirect) {\n\t\t\tconsole.log(\"redirect user\")\n\t\t\t$(\".dc_login-btn\").hide()\n\t\t\tsessionStorage.removeItem(\"redirect\")\n\t\t\twindow.location.assign(redirect) // Redirect user\n\t\t}\n\n\t\t// Hide login button\n\t\t$(\"[data-dc-login]\").hide()\n\t} else {\n\t\t$(\"[data-dc-logout]\").hide()\n\t}\n})\n\n// ? Global click listener for login / logout buttons\ndocument.body.addEventListener(\"click\", (e) => {\n\tif (\n\t\te.target.matches(\"[data-dc-login]\") ||\n\t\te.target.parentNode.matches(\"[data-dc-login]\")\n\t) {\n\t\tsessionStorage.setItem(\"redirect\", window.location.href)\n\t\te.preventDefault()\n\t\tdocument.body.append(createLoginModal())\n\t} else if (\n\t\te.target.matches(\"[data-dc-logout]\") ||\n\t\te.target.parentNode.matches(\"[data-dc-logout]\")\n\t) {\n\t\tMemberStack.logout()\n\t}\n})\n"]}